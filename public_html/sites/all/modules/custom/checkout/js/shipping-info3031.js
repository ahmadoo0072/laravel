jQuery(document).ready(function($){function e(e){t(),e&&n.scrollToMe(o.sip,800),p.country_selected||(n.missionNative.addClass(o.sip,"sip--state--selected"),p.country_selected=!0)}function a(){t(),p.country_selected&&(n.missionNative.removeClass(o.sip,"sip--state--selected"),p.shipping_available&&(n.missionNative.removeClass(o.sip,"sip--state--shipping-available"),p.shipping_available=!1),p.shipping_available_tracked&&(n.missionNative.removeClass(o.sip,"sip--state--shipping-tracked"),p.shipping_available_tracked=!1),p.country_selected=!1,o.targets.countryFlag.style.backgroundImage="none")}function s(a,s){e(s);var i=a.country_code,t=a.is_valid&&a.shipping_available,l=t&&a.tracked;o.select.value=i,t!==p.shipping_available&&(n.missionNative.setClass(o.sip,"sip--state--shipping-available",t),p.shipping_available=t),l!==p.shipping_available_tracked&&(n.missionNative.setClass(o.sip,"sip--state--shipping-tracked",l),p.shipping_available_tracked=l);var r=a.country_flag?'url("'+a.country_flag+'")':"none";o.targets.countryFlag.style.backgroundImage=r;var c,g,d,v;for(c=o.targets.info.length-1;c>=0;c--)g=o.targets.info[c],d=g.dataset.sipInfoType,v=a[d],n.missionNative.textContent(g,v)}function i(){p.error||(n.missionNative.addClass(o.sip,"sip--state--error"),p.error=!0)}function t(){p.error&&(n.missionNative.removeClass(o.sip,"sip--state--error"),p.error=!1)}var n=window.globalMethods,l=document.getElementById("sip");if(null!==l){var o={sip:l,select:document.getElementById("sip--select"),targets:{countryFlag:document.getElementById("sip--target--country-flag"),info:l.querySelectorAll(".sip--info-target")}};o.$={select:$(o.select)};var r=window.sip_feed,c={selectChange:function(e){var s=e.target.value;if("0"===s)return void a();n.missionNative.addClass(o.sip,"sip--state--loading");var i=r.json_callback_url_base+s;$.get(i,c.ajaxSuccess,"json").fail(c.ajaxFail).always(c.ajaxAlways)},ajaxSuccess:function(e){s(e,!0)},ajaxFail:function(){i()},ajaxAlways:function(){n.missionNative.removeClass(o.sip,"sip--state--loading")}},p={error:!1,country_selected:!1,shipping_available:!1,shipping_available_tracked:!1};o.$.select.on("change",c.selectChange),r["default"]&&s(r["default"],!1)}});